# NuDesk 권한 정의 (Roles)

NuDesk 시스템은 사용자의 역할(Role)에 따라 메뉴 접근 권한과 기능 이용 범위가 엄격히 구분됩니다.

## 1. 역할별 메뉴 접근 권한

| 메뉴명 | MASTER | ADMIN | STAFF | CUSTOMER |
| :--- | :---: | :---: | :---: | :---: |
| **접수 리스트** (`/dashboard/tickets`) | O | O | O | O |
| **인력 관리** (`/admin/users`) | O | O | X | X |
| **고객사 관리** (`/admin/customers`) | O | O | X | X |
| **프로젝트 관리** (`/dashboard/projects`) | O | O | X | X |

---

## 2. 역할별 주요 기능 상세

### **MASTER (대표 마스터)**
*   **시스템 총괄**: 모든 메뉴에 접근하여 전체 데이터를 조회하고 수정할 수 있습니다.
*   **권한 특징**: 
    *   인력 관리, 고객사 관리, 프로젝트 관리 등 모든 행정 메뉴 이용 가능.
    *   **티켓 등록 불가**: 시스템 관리 역할이므로 '새 티켓 등록' 버튼이 노출되지 않습니다.
    *   전체 프로젝트의 모든 티켓을 모니터링할 수 있습니다.

### **ADMIN (운영 관리자)**
*   **운영 총괄**: 시스템 실무 운영을 관리하며 행정적인 권한을 가집니다.
*   **권한 특징**:
    *   MASTER와 동일하게 모든 관리자 메뉴(인력, 고객사, 프로젝트) 접근 가능.
    *   **티켓 등록 가능**: 직접 업무를 생성하고 인력을 배치할 수 있습니다.
    *   참여 중인 프로젝트의 모든 티켓을 관리합니다.

### **STAFF (실무 직원)**
*   **업무 수행**: 실제 개발이나 유지보수 업무를 담당하는 실무자입니다.
*   **권한 특징**:
    *   **접수 리스트만 접근 가능**: 관리자 전용 메뉴(인력, 고객사, 프로젝트)는 보이지 않습니다.
    *   **티켓 등록 가능**: 본인이 직접 업무 티켓을 등록할 수 있습니다.
    *   본인이 참여 인력으로 포함된 프로젝트의 티켓만 조회하고 관리할 수 있습니다.

### **CUSTOMER (고객사 유저)**
*   **업무 요청**: 시스템 서비스를 이용하며 업무를 접수하는 외부 사용자입니다.
*   **권한 특징**:
    *   **접수 리스트만 접근 가능**: 오직 업무 요청과 확인을 위한 화면만 제공됩니다.
    *   **간소화된 티켓 등록**: 접수 유형이 '온라인'으로 고정되며, 내부 인력 배치 기능은 제공되지 않습니다.
    *   **데이터 격리**: 본인이 소속된 고객사(Company)의 업무 티켓만 조회할 수 있습니다.
    *   소속 고객사가 비활성화 상태이거나 할당된 프로젝트가 없는 경우 티켓 등록이 제한됩니다.

---

## 3. 상태 변화 및 자동화 규칙 (상세페이지)

*   **ADMIN/STAFF**: 
    *   '대기' 상태인 업무의 상세페이지에 진입하면 자동으로 **[접수]** 상태로 변경됩니다.
    *   우측 영역에서 첫 메시지를 전송하면 상태가 즉시 **[진행]**으로 변경됩니다.
    *   **종료일 관리**: 업무 접수/시작 시 종료일을 확인 및 변경할 수 있습니다.
        *   **종료일자**: 최초 등록 시의 `initial_end_date`를 표시합니다.
        *   **확정 종료일자**: 운영진이 최종 확정한 `confirmed_end_date`를 표시합니다. (입력 시 무조건 날짜 표시)
*   **CUSTOMER**: 
    *   '대기' 또는 '접수' 상태에서는 우측 소통 영역이 보이지 않으며, 좌측 정보 영역만 풀 너비로 확인합니다.
    *   상태가 **[진행]** 이상일 때부터 운영진과 댓글을 통해 소통할 수 있습니다.
